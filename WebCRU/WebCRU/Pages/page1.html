<!DOCTYPE html>
<html>
    <head>  
        <title>CRU</title>
        <link type="image/x-icon" href="../Images/favicon.ico" rel="shortcut icon" />
        <link type="image/ico" href="../Images/favicon.ico" rel="icon" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
        <link href="../Css/main.css" rel="stylesheet" />
        <link href="../Css/select.css" rel="stylesheet" />
        <link href="../Css/selectize.css" rel="stylesheet" />
        <script src="../Scripts/jquery/jquery-2.1.3.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-sanitize.js"></script>
        <script src="../Scripts/select/select.js"></script>
        <script src="../Scripts/bootstrap/bootstrap.min.js"></script>
        <script src="../Scripts/bootstrap/ui-bootstrap/ui-bootstrap-tpls-0.13.4.min.js"></script>
        <script src="../Scripts/bootstrap/bootstrap-toggle/bootstrap-toggle-bootstrap-toggle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>

        <script src="../Scripts/inputmask/jquery.inputmask.js"></script>
        <script src="../Scripts/inputmask/jquery.inputmask.numeric.extensions.js"></script>
        <script src="../Scripts/locale/locale_sl.js" type="text/javascript"></script>
        <script src="../Scripts/Controler.js" type="text/javascript"></script>
        <script src="../Scripts/Service.js" type="text/javascript"></script>
        <script src="../Scripts/error/angular-error-handling.js" type="text/javascript"></script>

        <script src="../Scripts/Utils.js" type="text/javascript"></script>

    </head>

    <div>

        <nav class="navbar navbar-deafult">
            <div class="container-fluid">
                <!--
                <div class="navbar-header">
                    <img src="<c:url value="/resources/images/logo.png" />"
                </div>
                !-->
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li class="dropdown"><a class="dropdown-toggle white" data-toggle="dropdown" href="#">Page 1 <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Page 1-1</a></li>
                            <li><a href="#">Page 1-2</a></li>
                            <li><a href="#">Page 1-3</a></li>
                        </ul>
                    </li>
                    <li><a class="white" href="#">Page 2</a></li>
                    <li><a class="white" href="#">Page 3</a></li>
                </ul>
            </div>
        </nav>
    </div>

    <body ng-app="CRUManagement" ng-controller="CRUController">

        <table class="tabled" align="center">
            <caption>     
                    <form id="custom-search-form" >
                        <div class="pull-left">
                            <button type="button" class="buttonNkbm" data-dismiss="modal" ng-click="newAplikacija()">New</button>
                        </div>
                    <div class="pull-right">
                        <div class="inline">
                            <input class="search" size="50" type="text" name="input" ng-model="searchString"  placeholder="Search.." required ng-trim="true" />
                        </div>
                        <div class="inline">
                            <button type="submit" class="btn btnSearch" ng-click="getAplikacije()">  
                                <span class=" glyphicon glyphicon-search"/>         
                            </button>
                        </div>
                        </div>
                    </form>
            </caption>
            <thead class="theadd">
                <tr>

                    <th class="sort" ng-click="sort('Ime')">Ime
                        <span class="glyphicon sort-icon" ng-show="sortKey === 'Ime'" ng-class="getSortClass()"/>
                    </th>
                    <th class="sort" ng-click="sort('Naziv')">Naziv
                        <span class="glyphicon sort-icon" ng-show="sortKey === 'Naziv'" ng-class="getSortClass()"/>
                    </th>
                    <th class="sort" ng-click="sort('Opis')">Opis
                        <span class="glyphicon sort-icon" ng-show="sortKey === 'Opis'" ng-class="getSortClass()"/>
                    </th>
                    <th class="sort" ng-click="sort('Http')">Http
                        <span class="glyphicon sort-icon" ng-show="sortKey === 'Http'" ng-class="getSortClass()"/>
                    </th>
                    <th class="sort" ng-click="sort('Database')">Database
                        <span class="glyphicon sort-icon" ng-show="sortKey === 'Database'" ng-class="getSortClass()"/>
                    </th>
                   
                </tr>
            </thead>
            <tbody>
                <tr class="trd" title="DbClick to edit" ng-repeat="dto in data" ng-dblclick="openModal(dto)">
                    <td> {{dto.Ime}} </td> 
                    <td> {{dto.Naziv}} </td>  
                    <td> {{dto.Opis}} </td> 
                    <td> {{dto.Http}} </td> 
                    <td> {{dto.Database}} </td> 
                </tr>
            </tbody>    
            <tfoot>  
                <tr>  
                    <td align="right" colspan="100%">  
                        <table class="paging-tbl">
                            <tr style="background-color: white;">
                                <td>
                                    <span class="pull-right right">
                                        <ui-select ng-model="pageSizeSelected.selected" onkeypress="return false;" ng-change="changePageSize()" style="min-width:50px">
                                            <ui-select-match>{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="pageSize in PageSizeList | filter:$select.search">
                                                <span ng-bind="pageSize"></span>
                                            </ui-select-choices>
                                        </ui-select>
                                    </span> 
                                </td>
                                <td>
                                    <div class="pull-right right">   
                                        <pagination total-items="totalCount" 
                                                    ng-change="pageChanged()" 
                                                    items-per-page="pageSizeSelected.selected" 
                                                    direction-links="true" 
                                                    ng-model="pageIndex" 
                                                    max-size="maxSize" 
                                                    class="pagination" 
                                                    boundary-links="true" 
                                                    rotate="false" 
                                                    num-pages="numPages"></pagination>   
                                    </div> 
                                </td>
                                <td>
                                    <table class="page">
                                        <tr style="background-color: white;">
                                            <td>
                                                <a>Page: {{pageIndex}} / {{numPages}}</a>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>  
                </tr>  
            </tfoot>
        </table>    
    </body>
</html>
